package:
  id: io.github.mayo
  name: mayo
  version: 0.8.0
  kind: app
  description: |
    3D CAD viewer and converter based on Qt + OpenCascade

runtime:
  id: org.deepin.Runtime
  version: 23.0.0

source:
  kind: git
  url: https://github.com/fougue/mayo.git
  commit: ec5d7d7590396866f2db26c85826e6c4c2b272c4
  patch: patches/0001-fix-desktop-and-binary-install.patch

depends:
  - id: OCCT/7.7.2
    type: runtime

build:
  kind: cmake
  manual:
    configure: |
      cp images/appicon.svg images/mayoIcon.svg
      cp images/appicon_16.png images/mayoIcon_16.png
      cp images/appicon_24.png images/mayoIcon_24.png
      cp images/appicon_32.png images/mayoIcon_32.png
      cp images/appicon_64.png images/mayoIcon_64.png
      cp images/appicon_128.png images/mayoIcon_128.png
      cp images/appicon_256.png images/mayoIcon_256.png
      cmake -B ${build_dir} ${conf_args} ${extra_args}
